{"version":3,"file":"mega-menu-nav/view.js","mappings":";;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAIAA,QAAQ,CAACC,gBAAgB,CAAC,kBAAkB,EAAE,MAAM;EAGhD;EACH,MAAMC,iBAAiB,GAAEA,CAAA,KAAM;IAC9B;IACA,MAAMC,oBAAoB,GAAGH,QAAQ,CAACI,eAAe,CAACC,YAAY,GAAGC,MAAM,CAACC,WAAW;IAEvF,IAAI,CAACJ,oBAAoB,EAAE,OAAO,CAAC;;IAEnC;IACA,MAAMK,SAAS,GAAGR,QAAQ,CAACS,aAAa,CAAC,KAAK,CAAC;IAC/C;IACAD,SAAS,CAACE,KAAK,CAACC,QAAQ,GAAG,QAAQ;IACnCH,SAAS,CAACE,KAAK,CAACE,KAAK,GAAG,MAAM;IAC9BJ,SAAS,CAACE,KAAK,CAACG,MAAM,GAAG,MAAM;IAC/BL,SAAS,CAACE,KAAK,CAACI,UAAU,GAAG,QAAQ;IACrCd,QAAQ,CAACe,IAAI,CAACC,WAAW,CAACR,SAAS,CAAC;;IAEpC;IACA,MAAMS,cAAc,GAAGT,SAAS,CAACU,WAAW,GAAGV,SAAS,CAACW,WAAW;;IAEpE;IACAnB,QAAQ,CAACe,IAAI,CAACK,WAAW,CAACZ,SAAS,CAAC;;IAEpC;IACA,OAAOS,cAAc;EACtB,CAAC;EAED,MAAMI,iBAAiB,GAAEA,CAAA,KAAM;IAC9BrB,QAAQ,CAACI,eAAe,CAACM,KAAK,CAACY,WAAW,CAAC,mBAAmB,EAAE,GAAGpB,iBAAiB,CAAC,CAAC,IAAI,CAAC;EAC5F,CAAC;EACDmB,iBAAiB,CAAC,CAAC;EAGhB,MAAME,OAAO,GAAGvB,QAAQ,CAACwB,gBAAgB,CAAC,sBAAsB,CAAC;EACjE,IAAGD,OAAO,CAACE,MAAM,GAAG,CAAC,EAAE;IACnBF,OAAO,CAACG,OAAO,CAACC,MAAM,IAAI;MAEtB;MACA,MAAMC,MAAM,GAAGD,MAAM,CAACE,OAAO,CAAC,QAAQ,CAAC,IAAIF,MAAM,CAACG,aAAa,CAAC,cAAc,CAAC,IAAIH,MAAM,CAACG,aAAa,CAAC,WAAW,CAAC;;MAEpH;MACA,MAAMC,WAAW,GAAGC,gBAAgB,CAACL,MAAM,CAAC;MAC5C,MAAMM,aAAa,GAAGF,WAAW,CAACG,gBAAgB,CAAC,wBAAwB,CAAC,CAACC,IAAI,CAAC,CAAC;MACnF,IAAIC,YAAY,GAAG,KAAK;;MAExB;MACA,MAAMC,iBAAiB,GAAG,IAAIC,cAAc,CAACC,OAAO,IAAI;QACpDvC,QAAQ,CAACI,eAAe,CAACM,KAAK,CAACY,WAAW,CAAC,kBAAkB,EAAEkB,IAAI,CAACC,KAAK,CAACF,OAAO,CAAC,CAAC,CAAC,CAACG,WAAW,CAAC7B,MAAM,CAAC,GAAG,IAAI,CAAC;QAChHuB,YAAY,GAAGG,OAAO,CAAC,CAAC,CAAC,CAACG,WAAW,CAAC9B,KAAK,IAAI+B,QAAQ,CAACV,aAAa,CAAC;MAC1E,CAAC,CAAC;MACFI,iBAAiB,CAACO,OAAO,CAAChB,MAAM,CAAC;IACrC,CAAC,CAAC;EACN;;EAGJ;;EAEA;EACA;;EAEA;EACA;EACA;;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;AACA,CAAC,CAAC,C","sources":["webpack://simple-mega-menu/./src/mega-menu-nav/view.js"],"sourcesContent":["/**\n * Use this file for JavaScript code that you want to run in the front-end\n * on posts/pages that contain this block.\n *\n * When this file is defined as the value of the `viewScript` property\n * in `block.json` it will be enqueued on the front end of the site.\n *\n * Example:\n *\n * ```js\n * {\n *   \"viewScript\": \"file:./view.js\"\n * }\n * ```\n *\n * If you're not making any changes to this file because your project doesn't need any\n * JavaScript running in the front-end, then you should delete this file and remove\n * the `viewScript` property from `block.json`.\n *\n * @see https://developer.wordpress.org/block-editor/reference-guides/block-api/block-metadata/#view-script\n */\n\n\n\ndocument.addEventListener('DOMContentLoaded', () => {\n\n\n    //* Get the width of the scrollbar\n\tconst getScrollbarWidth= () => {\n\t\t// *Check if the document has a vertical scrollbar\n\t\tconst hasVerticalScrollbar = document.documentElement.scrollHeight > window.innerHeight\n\n\t\tif (!hasVerticalScrollbar) return 0\n\n\t\t//* Create a temporary div container and append it into the body\n\t\tconst container = document.createElement('div')\n\t\t//* Force scrollbar\n\t\tcontainer.style.overflow = 'scroll'\n\t\tcontainer.style.width = '50px'\n\t\tcontainer.style.height = '50px'\n\t\tcontainer.style.visibility = 'hidden'\n\t\tdocument.body.appendChild(container)\n\n\t\t//* Calculate the width of the scrollbar\n\t\tconst scrollbarWidth = container.offsetWidth - container.clientWidth\n\n\t\t//* Remove the temporary div container from the body\n\t\tdocument.body.removeChild(container)\n\n\t\t//* Return the scrollbar width\n\t\treturn scrollbarWidth\n\t}\n\n\tconst setScrollbarWidth= () => {\n\t\tdocument.documentElement.style.setProperty('--scrollbar-width', `${getScrollbarWidth()}px`)\n\t}\n\tsetScrollbarWidth()\n\n\n    const smmNavs = document.querySelectorAll('nav.simple-mega-menu')\n    if(smmNavs.length > 0) {\n        smmNavs.forEach(smmNav => {\n\n            //* Get the header element\n            const header = smmNav.closest('header') || smmNav.querySelector('.site-header') || smmNav.querySelector('#masthead')\n\n            //* Get the breakpoint value\n            const smmNavStyle = getComputedStyle(smmNav)\n            const smmBreakpoint = smmNavStyle.getPropertyValue('--mega-menu-breakpoint').trim()\n            let isMobileView = false\n\n            //* Add a resize observer to the header element\n            const navResizeObserver = new ResizeObserver(entries => {\n                document.documentElement.style.setProperty('--smm-nav-height', Math.round(entries[0].contentRect.height) + 'px')\n                isMobileView = entries[0].contentRect.width <= parseInt(smmBreakpoint)\n            })\n            navResizeObserver.observe(header)\n        })\n    }\n\n\n//     const megaMenus = document.querySelectorAll('.simple-mega-menu');\n\n//     megaMenus.forEach(menu => {\n//         const submenus = menu.querySelectorAll('.wp-block-navigation-submenu');\n\n//         submenus.forEach(submenu => {\n//             const toggle = submenu.querySelector('.wp-block-navigation-submenu__toggle');\n//             const content = submenu.querySelector('.wp-block-navigation-submenu__content');\n\n//             if (toggle && content) {\n//                 toggle.addEventListener('click', function(e) {\n//                     e.preventDefault();\n//                     content.style.display = content.style.display === 'block' ? 'none' : 'block';\n//                 });\n//             }\n//         });\n//     });\n})\n"],"names":["document","addEventListener","getScrollbarWidth","hasVerticalScrollbar","documentElement","scrollHeight","window","innerHeight","container","createElement","style","overflow","width","height","visibility","body","appendChild","scrollbarWidth","offsetWidth","clientWidth","removeChild","setScrollbarWidth","setProperty","smmNavs","querySelectorAll","length","forEach","smmNav","header","closest","querySelector","smmNavStyle","getComputedStyle","smmBreakpoint","getPropertyValue","trim","isMobileView","navResizeObserver","ResizeObserver","entries","Math","round","contentRect","parseInt","observe"],"sourceRoot":""}